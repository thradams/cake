<!DOCTYPE html>
<html>
<head>
  
    <link rel="stylesheet" href="default.min.css">
    <script src="highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <link rel="stylesheet" href="style.css" />
    <title>Cake C Compiler</title>
    <meta name="description" content="Cake C Compiler">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <script>
    function Try(elm)
    {
        //collect the text previous sample
        var source = elm.parentElement.previousElementSibling.innerText;

        var link = "./playground.html?code=" + encodeURIComponent(btoa(source)) +
            "&to=" + encodeURI("-2") +
            "&options=" + encodeURI("");

        window.open(link, 'popup','width=800,height=600');
    }
// find-replace for this
// <button onclick="Try(this)">try</button> 
</script></head>
<body>
    <article style="max-width: 40em; margin:auto">
<p><a href="index.html">Home</a> | <a href="manual.html">Manual</a> | <a href="playground.html">Playground</a></p>
<article>
<h1>Cake - C23 and Beyond</h1>
<ul>
<li>
<a href="#toc_0">üç∞ Cake</a>
</li>
<li>
<a href="#toc_1">Web Playground</a>
</li>
<li>
<a href="#toc_2">Use cases</a>
</li>
<li>
<a href="#toc_3">Features</a>
</li>
<li>
<a href="#toc_4">Build</a>
<ul>
<li>
<a href="#toc_5">MSVC build instructions</a>
</li>
<li>
<a href="#toc_6">GCC on Linux build instructions</a>
</li>
<li>
<a href="#toc_7">Clang on Linux/Windows/MacOS build instructions</a>
</li>
<li>
<a href="#toc_8">Emscripten build instructions (web)</a>
</li>
</ul>
</li>
<li>
<a href="#toc_9">Running cake at command line</a>
</li>
<li>
<a href="#toc_10">Road map</a>
</li>
<li>
<a href="#toc_11">Participating</a>
</li>
<li>
<a href="#toc_12">How cake is developed?</a>
</li>
<li>
<a href="#toc_13">Cake x CFront</a>
</li>
</ul>
<p>The C Programming language 1978</p>

<blockquote>
<p><em>&quot;C is a general-purpose programming language which features economy of expression, modern control flow and data structures, and a rich set of operators. C is not a &quot;very high level&quot; language, nor a &quot;big&quot; one, and is not specialized to any particular area of application. But its absence of restrictions and its generality make it more convenient and effective for many tasks than supposedly more powerful languages.&quot;</em></p>

<p><em>&quot;In our experience, C has proven to be a pleasant, expressive, and versatile language for a wide variety of programs. It is easy to learn, and it wears well as one&#39;s experience with it grows&quot;</em></p>
</blockquote>

<p>The C Programming language Second Edition 1988</p>

<blockquote>
<p><em>&quot;As we said in the preface to the first edition, C &quot;wears well as one&#39;s experience with it grows.&quot; With a decade more experience, we still feel that way.&quot;</em></p>
</blockquote>

<p><em>C is everywhere. From operating systems to embedded devices, from high-performance apps 
to essential technology, C powers the technology we rely on every day. Timeless, 
efficient, and universal.</em></p>

<h1 id="toc_0">üç∞ Cake</h1>

<p>Cake is a compiler front-end written from scratch in C, adhering to the C23 language 
specification and beyond.</p>

<p>It serves as a platform for experimenting with new features, 
including C2Y language proposals, safety enhancements, and extensions such as 
literal functions and defer statements.</p>

<p>The current backend generates C89-compatible code, which can be pipelined with existing 
or old compilers to produce executables. </p>

<pre><code class="language-c">    [source] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ [preprocessor]  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ [compiler]  
       ‚îÇ                                           ‚ñ≤                
       ‚îî‚îÄ‚ñ∫ [cake preprocessor] ‚îÄ‚îÄ‚ñ∫[cake compiler] ‚îÄ‚îò c89            
</code></pre>

<p>Cake aims to enhance C&#39;s safety by providing high-quality warning messages and advanced 
flow analysis, including <a href="ownership.html">object lifetime</a> checks.</p>

<h1 id="toc_1">Web Playground</h1>

<p>This is the best way to try.</p>

<p><a href="http://cakecc.org/playground.html">http://cakecc.org/playground.html</a></p>

<h1 id="toc_2">Use cases</h1>

<p>Note: Cake is still in development and has not yet reached 
a stable version.</p>

<p>Cake can be used as a static analyzer alongside other compilers. 
It generates SARIF files, which are recognized by popular IDEs 
such as Visual Studio and Visual Studio Code, providing a 
seamless integration.</p>

<p>It can also function as a preprocessor, converting C23 code to C89. 
This allows developers to use modern or experimental features while targeting 
compilers that do not yet support the latest language standards.</p>

<p>Previous versions of Cake included a conversion mode to 
translate code while preserving the preprocessor parts. </p>

<p>Although useful, this process could not guarantee 100% conversion,
functioning more as a tool than a compiler. With the new versions 
of Cake moving toward becoming a more traditional compiler,
the previous mode has been discontinued at version 0.9.36.</p>

<h1 id="toc_3">Features</h1>

<ul>
<li>C23 preprocessor</li>
<li>C23 syntax analysis</li>
<li>C23 semantic analysis</li>
<li>Static <a href="ownership.html">object lifetime</a> checks (Extension)</li>
<li>Sarif output</li>
<li>Backend generating C89 compatible code</li>
<li>AST </li>
<li>More than 260 diagnostics</li>
</ul>

<h1 id="toc_4">Build</h1>

<p>GitHub 
<a href="https://github.com/thradams/cake">https://github.com/thradams/cake</a></p>

<h2 id="toc_5">MSVC build instructions</h2>

<p>Open the Developer Command Prompt of visual studio. Go to the <em>src</em> directory and type</p>

<pre><code>cl build.c &amp;&amp; build
</code></pre>

<p>This will build <em>cake.exe</em>, then run cake on its own source code.</p>

<h2 id="toc_6">GCC on Linux build instructions</h2>

<p>Got to the <em>src</em> directory and type:</p>

<pre><code>gcc build.c -o build &amp;&amp; ./build
</code></pre>

<h2 id="toc_7">Clang on Linux/Windows/MacOS build instructions</h2>

<p>Got to the <em>src</em> directory and type:</p>

<pre><code>clang build.c -o build &amp;&amp; ./build
</code></pre>

<p>To run unit tests windows/linux add <em>-DTEST</em> for instance:</p>

<pre><code>gcc -DTEST build.c -o build &amp;&amp; ./build
</code></pre>

<h2 id="toc_8">Emscripten build instructions (web)</h2>

<p>Emscripten <a href="https://emscripten.org/">https://emscripten.org/</a>  is required. </p>

<p>First do the normal build. </p>

<p>The normal build also generates a file <em>lib.c</em> that is the amalgamated  version of the &quot;core lib&quot;.</p>

<p>Then at <em>./src</em> dir type:</p>

<pre><code>call emcc -DMOCKFILES &quot;lib.c&quot; -o &quot;Web\cake.js&quot; -s WASM=0 -s EXPORTED_FUNCTIONS=&quot;[&#39;_CompileText&#39;]&quot; -s EXTRA_EXPORTED_RUNTIME_METHODS=&quot;[&#39;ccall&#39;, &#39;cwrap&#39;]&quot;
</code></pre>

<p>This will generate the <em>\src\Web\cake.js</em></p>

<h1 id="toc_9">Running cake at command line</h1>

<p>Make sure cake is on your system path.</p>

<p>Samples</p>

<pre><code>cake source.c
</code></pre>

<p>this will output <em>./out/source.c</em></p>

<p>See <a href="manual.html">Manual</a></p>

<h1 id="toc_10">Road map</h1>

<ul>
<li>function literal and local functions implementation</li>
<li>Making it usable as C89 backend and fixes</li>
<li>Flow v2 algorithm was delayed</li>
</ul>

<h1 id="toc_11">Participating</h1>

<p>You can contribute by trying out cake, reporting bugs, and giving feedback.</p>

<p>Have a suggestion for C?</p>

<p>DISCORD SERVER</p>

<p><a href="https://discord.gg/YRekr2N65S">https://discord.gg/YRekr2N65S</a></p>

<h1 id="toc_12">How cake is developed?</h1>

<p>I use Visual Studio 2022 IDE to write and debug the Cake source.
Cake parses itself using the MSVC includes and generates the X_86_msvc 
directory after the build.
The Linux version is tested inside WSL, and the macOS version is 
currently the least tested but is expected to work.</p>

<h1 id="toc_13">Cake x CFront</h1>

<p>CFront was the first C++ compiler, designed to translate C++ source code into C.
Initially compatible with C89, it diverged as the C and C++ languages evolved 
independently.</p>

<p>Cake maintains alignment with the standard specifications and ongoing 
development of C, ensuring full compatibility.</p>

<p>The compiler introduces extensions that preserve the fundamental design 
of C while supporting experimentation and open contributions to the 
language&#39;s evolution.</p>
</article></body></html>